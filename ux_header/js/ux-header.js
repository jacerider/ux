!function(e,t,i){"use strict";function a(t){this.$header=t,this.$window=e(window),this.$document=e(document),this.initialize()}e.extend(a.prototype,{lastScrollTop:0,delta:50,direction:"",fixed:!1,offset:{},initialize:function(){var i=this;i.$header.wrap('<div class="ux-header-wrapper"></div>'),i.$wrapper=i.$header.parent(),i.reset(),t.Ux.addResizeCallback(e.proxy(function(){i.onResize()},i)),t.Ux.addScrollCallback(e.proxy(function(){i.scroll()},i)),i.$header.addClass("ux-header"),setTimeout(function(){i.onResize()},100)},reset:function(){var e=this;e.$wrapper.removeAttr("style"),e.$header.removeAttr("style"),e.$header.removeClass("ux-header-float ux-header-hide")},calcSize:function(){var e=this;e.offset=e.$header.offset(),e.width=e.$header.outerWidth(),e.height=e.$header.outerHeight()},setSize:function(){var e=this;e.$wrapper.css({width:e.width,height:e.height})},float:function(){var e=this;e.$header.css({transitionDuration:"0ms",position:"fixed",marginLeft:e.offset.left-i.offsets.left,marginRight:e.offset.left-i.offsets.right,maxWidth:e.width,top:i.offsets.top,left:i.offsets.left,right:i.offsets.right}),e.$header.addClass("ux-header-hide ux-header-float ux-header-alt"),setTimeout(function(){e.$header.css({transitionDuration:""})},10)},onResize:function(){var e=this;e.reset(),e.calcSize(),e.setSize()},scroll:function(){var e=this,t=Math.abs(e.$window.scrollTop()),a=e.lastScrollTop,r="",s=e.offset.top-i.offsets.top;if(s=s>=0?s:0,t>s+e.height){if(!1===e.fixed&&(e.fixed=!0,e.float()),Math.abs(a-t)<=e.delta)return;r=t>a?"down":"up",e.direction!==r&&("down"===r?e.$header.addClass("ux-header-hide"):e.$header.removeClass("ux-header-hide"),e.direction=r)}else!0===e.fixed&&(e.$header.removeClass("ux-header-alt"),t<=s&&(e.fixed=!1,e.reset(),e.setSize()));e.lastScrollTop=t}}),t.behaviors.uxStickyHeader={attach:function(t){e("#ux-content header").first().once("ux-header").each(function(t){new a(e(this))})}}}(jQuery,Drupal,Drupal.displace);