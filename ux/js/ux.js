"use strict";!function(n,t,o){function e(){this.$window=n(window),this.$document=n(document),this.$body=n("body"),this.$uxWrapper=n("#ux-wrapper"),this.$uxCanvas=n("#ux-canvas"),this.$uxContent=n("#ux-content"),this.setup()}n.extend(e.prototype,{onResizeCallbacks:[],onScrollCallbacks:[],setup:function(){var i=this,u=(o(),o.offsets),a=this.$window.width(),s=this.$window.height();i.addResizeCallback(n.proxy(i.onResizeSetDocumentSize,i)),i.onResize(),i.$document.on("drupalViewportOffsetChange.ux",function(t,o){var n=i.$window.width(),e=i.$window.height();o.top===u.top&&o.right===u.right&&o.bottom===u.bottom&&o.left===u.left&&n===a&&e===s||(i.onResize(t),u=o)}),i.onScroll(),i.$window.on("scroll.ux",function(t){i.onScroll(t)})},addResizeCallback:function(t){this.onResizeCallbacks.push(t)},onResize:function(o){this.onResizeCallbacks.forEach(function(t){t(o)})},addScrollCallback:function(t){this.onScrollCallbacks.push(t)},onScrollTimeout:null,onScroll:function(o){var t=this;clearTimeout(t.onScrollTimeout),t.onScrollTimeout=setTimeout(function(){t.onScrollCallbacks.forEach(function(t){t(o)})},10)},onResizeSetDocumentSize:function(t){var n=this;n.$body.waitForImages(function(){var t=n.$window.height(),o=Math.max(n.$body.height(),t);(o-=n.$uxWrapper.outerHeight()-n.$uxWrapper.height())<t&&n.$uxContent.css("min-height",o)})},blurTimeout:null,blurContent:function(){var t=this;t.$uxContent.addClass("ux-blur"),t.$window.trigger("ux-content:blur",[t.$uxContent]),clearTimeout(t.blurTimeout),t.blurTimeout=setTimeout(function(){t.$uxContent.addClass("ux-blur-animate")},0)},focusContent:function(){var t=this;t.$uxContent.removeClass("ux-blur-animate"),clearTimeout(t.blurTimeout),t.blurTimeout=setTimeout(function(){t.$uxContent.removeClass("ux-blur"),t.$window.trigger("ux-content:focus",[t.$uxContent])},400)},shadowTimeout:null,showShadow:function(t){var o=n("#ux-shadow");o.addClass("active"),clearTimeout(this.shadowTimeout),this.shadowTimeout=setTimeout(function(){o.addClass("animate")},0),t&&o.on("click.ux",t)},hideShadow:function(){var t=n("#ux-shadow");t.removeClass("animate").off("click.ux"),clearTimeout(this.shadowTimeout),this.shadowTimeout=setTimeout(function(){t.removeClass("active")},400)},guid:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}),t.behaviors.ux={attach:function(t){}},t.Ux=new e}(jQuery,Drupal,(Drupal.debounce,Drupal.displace));