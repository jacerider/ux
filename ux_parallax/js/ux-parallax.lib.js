"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(F,T,E){var j={animation:"y",animate:"TweenLite",optimize:!0,initialAnimationDuration:1,orientation:"vertical",factor:.5,screen:{sm:0,md:640,lg:1024},perspective:800,perspectiveOrigin:"50% 50%",preload:!0,preloader:'<div class="ux-parallax-loader"><div class="ux-parallax-loader-inner"></div></div>',normalizeTop:!0,overflow:!1,anchor:"center",size:"auto",selector:{layer:".ux-parallax-layer",background:".ux-parallax-background",background_inside:".ux-parallax-background-inside",fit:".ux-parallax-fit"}};F.ux_parallax=function(e,t){var i,z,h,a,s,u,r,n,o,l,p,c,d,g,m,x,f,_,w,b,v,y,k,H,C;this._defaults=j,this.settings=F.extend(!0,{},this._defaults,t),this.element=F(e),this.layers=F(this.settings.selector.layer,this.element),this.fit=F(this.settings.selector.fit,this.element),this.background=F(this.settings.selector.background,this.element),this.background.length||(this.background=F(this.settings.selector.background_inside,this.element).find("img:first").addClass("ux-parallax-background")),this.source=this.settings.source||this.element,this.parent=this.settings.parent||this.element.parent(),this.window=F(T),this.wrapper=F("#ux-push"),this.document=F("#ux-document"),this.wrapper_width=this.wrapper.width(),0<this.background.length&&!this.settings.animateElement?this.settings.animateElement=!1:this.settings.animateElement=!0,this.debug=!1,this.size={wrapper:{},source:{},parent:{},element:{},background:{},layer:[]},this.position={wrapper:{},source:{},element:{},parent:{}},this.loaded=!1,this.initialize=(i=this,function(){i.set_element_id(),i.set_animator(),i.set_orientation(i.settings.orientation),i.set_layer_index(),i.init_animus(),i.set_data(),i.set_classes(),i.load(function(){i.set_size(),i.set_position(),i.set_responsive_context(),i.bind_resize(),i.bind_scroll(),i.scroll(),i.loaded=!0,i.element.triggerHandler("ux_parallax.load",[i.element]),i.source.addClass("ux-parallax-built"),i.log("UX Parallax has been initialized.")})}),this.parallax=(z=this,function(){var d,e,g,m=F.ux_parallax.wrapper[z.param.middle]-z.position.source[z.param.middle],x=(F.ux_parallax.wrapper[z.param.end]-z.position.source[z.param.start])/z.size.source.spanning,f=m/z.size.source.spanning;z.position.source.beginning&&(e=(z.size.wrapper.half-z.position.source[z.param.middle])/z.size.source.spanning,x-=e,f-=e),g=m<=0,d=0<=m,z.loaded||(d=g=!1,z.in_view)||(f=x=m=0),F.each(z.animation,function(e,t){var u={},i=t[0],c=t[1][z.current_responsive_size];F.each(c.state,function(e,t){var i,a,s,n,r,o,l,p,h;if("*"!==c.state[e][0]){if(o=c.state[e][0],r=c.state[e][1],a=m*o,p=x*o,s=f*o,!("to-middle"===r&&d||"from-middle"===r&&g)||"opacity"===e)switch(e){case"opacity":"from-middle"===r?(u[e]=1-2*s,1<u[e]&&(u[e]=1)):"to-middle"===r?(u[e]=1+2*s,1<u[e]&&(u[e]=1)):u[e]=1-Math.abs(2*s);break;case"scale":case"scaleX":case"scaleY":case"scaleZ":c.state[e][2]&&(r=c.state[e][2]),u[e]="up"===r?1+p:"down"===r?1+.5*o-p:1+s;break;case"rotation":case"rotationX":case"rotationY":case"rotationZ":u[e]=180*(x-.5)*o;break;case"skewX":case"skewY":case"skewZ":u[e]=180*(x-.5)*o;break;case"x":case"y":0<z.background.length?z.size.source.same[z.param.size]&&e===z.param.axis?((l={})[z.param.start]=(F.ux_parallax.wrapper[z.param.start]-z.position.source[z.param.start])/z.size.source[z.param.size],l[z.param.end]=(F.ux_parallax.wrapper[z.param.end]-z.position.source[z.param.end])/z.size.source[z.param.size],l.value=0,l[z.param.start]<0?l[z.param.start]=0:l.value=l[z.param.start],0<l[z.param.end]?l[z.param.end]=0:l.value=l[z.param.end],u[e]=l.value*z.size.source[z.param.size]*o):(z.size.source.difference,l=z.size.source.difference/2,i=(l=z.position.element[z.param.start]-a-l)+z.size.element[z.param.size],l>z.position.source[z.param.start]&&i<z.position.source[z.param.end]||(u[e]=a)):u[e]=a;break;default:u[e]=a}}else n="to-middle"===(r=c.state[e][3])||"from-middle"===r?2:1,h=Math.abs(t[1])+Math.abs(t[2]),"to-middle"===r&&d||("from-middle"===r?u[e]=g?t[1]:t[1]-h*(x-.5)*n:(h=h*x*n,t[1]>t[2]?u[e]=t[1]-h:u[e]=t[1]+h))}),u.onComplete=z.stop_ticking,z.loaded?z.animate.set(i,u):z.animate.to(i,z.settings.initialAnimationDuration,u)}),z.element.triggerHandler("ux_parallax.parallax",[x,m,f])}),this.load=(h=this,function(r){var o,l,p=h.background.add(h.layers.filter("img"));0<p.length?(o=0,h.settings.preloader&&(l=F(h.settings.preloader),h.background.before(l)),p.each(function(e,t){var i=F(t),t=i.parent(),a=!1,s=null!=i.attr("data-ux-parallax-src")?i.attr("data-ux-parallax-src"):i.attr("src"),n=F("<img>");t.is("picture")&&((t=t.clone()).find("img").remove().end(),t.append(n),a=!0),n.attr("src",s),a&&!T.HTMLPictureElement&&(T.respimage?T.respimage({elements:[$img[0]]}):T.picturefill?T.picturefill({elements:[$img[0]]}):s&&$img.attr("src",s)),n.on("load",function(){i.attr("src",s),(o+=1)===p.length&&(h.settings.preloader&&h.animate.to(l,1,{scale:2,opacity:0,onComplete:function(){l.remove()}}),r.call())}).on("error",function(){h.error('Image with src="'+s+'" failed to load.')})})):r.call()}),this.init_animus=(a=this,function(){var e={duration:a.settings.animation.duration,easing:a.settings.animation.easing};a.animus=new F.animus(e),a.log("Initialized animus parser.")}),this.set_data=(s=this,function(){s.animation=[],s.settings.animateElement&&s.animation.push([s.element,s.get_animation_data("element",s.element)]),0<s.background.length&&(s.animation.push([s.background,s.get_animation_data("background",s.background)]),s.size.background=s.get_size_data("background",s.background)),0<s.layers.length&&(s.animation.layer=[],s.layers.each(function(e,t){t=F(t),s.animation.push([t,s.get_animation_data("layer",t,e)]),s.size.layer.push(s.get_size_data("layer",t,e))})),s.log("UX Parallax data has been processed."),s.log(s.animation)}),this.get_animation_data=(u=this,function(i,e,t){var o={},l="",p=null,a=null!=e.attr("id")?"#"+e.attr("id"):"",s=null!=e.attr("class")?e.attr("class").split(" ").map(function(e){return"."+e}):[];return null!=e.attr("data-ux-parallax")?l=e.attr("data-ux-parallax"):"string"==typeof u.settings.animation?l=u.settings.animation:"object"===_typeof(u.settings.animation)&&("string"==typeof u.settings.animation[i]?l=u.settings.animation[i]:F.isArray(u.settings.animation[i])?"string"==typeof u.settings.animation[i][t]?l=u.settings.animation[i][t]:"object"===_typeof(u.settings.animation[i][t])&&(p=u.settings.animation[i][t],"string"==typeof u.settings.animation[i][t]["*"])&&(l=u.settings.animation[i]["*"]):"object"===_typeof(u.settings.animation[i])?(p=u.settings.animation[i],"string"==typeof u.settings.animation[i]["*"]?l=u.settings.animation[i]["*"]:"string"==typeof u.settings.animation[i][a]?l=u.settings.animation[i][a]:"object"===_typeof(u.settings.animation[i][a])?p=u.settings.animation[i][a]:F.each(s,function(e,t){"string"==typeof u.settings.animation[i][t]&&(l=u.settings.animation[i][t]),"object"===_typeof(u.settings.animation[i][t])&&(p=u.settings.animation[i][t])})):l="string"==typeof u.settings.animation["*"]?u.settings.animation["*"]:""),F.each(Object.keys(u.settings.screen),function(e,t){var i,a,s,n,r;for(n in o[t]={},a={},a=p&&"string"==typeof p[t]?p[t]:l,o[t]=u.animus.get(a),i=o[t].state)-1===(r=""+(r=i[n])).indexOf("..")?0===(s=r.split(/\s+/)).length?s.push(u.settings.factor):1===s.length&&(""===s[0]&&(s[1]="default",s[0]=u.settings.factor),isNaN(s[0])?(s[1]=s[0],s[0]=u.settings.factor):(s[1]="default",s[0]=parseFloat(s[0]))):(s=["*"],r=r.split(/[\. ]+/),s[1]=parseFloat(r[0]),s[2]=parseFloat(r[1]),2===r.length?s[3]="default":s[3]=r[2]),o[t].state[n]=s}),o}),this.get_size_data=(r=this,function(i,e,t){var a={},s=(null!=e.attr("id")&&e.attr("id"),null!=e.attr("class")?e.attr("class").split(" ").map(function(e){return"."+e}):[]),n=!1;return null!=r.settings.canvas&&null!=r.settings.canvas[i]&&(null!=t?null!=r.settings.canvas[i][t]?n=r.settings.canvas[i][t]:null!=r.settings.canvas[i][id]?n=r.settings.canvas[i][id]:F.each(s,function(e,t){null!=r.settings.canvas[i][t]&&(n=r.settings.canvas[i][t])}):n=r.settings.canvas[i]),null!=e.attr("data-ux-parallax-width")?a.width=parseFloat(e.attr("data-ux-parallax-width")):n&&null!=n.width&&(a.width=parseFloat(r.delete_property(n,"width"))),null!=e.attr("data-ux-parallax-height")?a.height=parseFloat(e.attr("data-ux-parallax-height")):n&&null!=n.height&&(a.height=parseFloat(r.delete_property(n,"height"))),"layer"===i&&(a.position={},null!=e.attr("data-ux-parallax-top")?a.position.top=parseFloat(e.attr("data-ux-parallax-top")):n&&null!=n.top?a.position.top=parseFloat(r.delete_property(n,"top")):null!=e.attr("data-ux-parallax-bottom")?a.position.bottom=parseFloat(e.attr("data-ux-parallax-bottom")):n&&null!=n.bottom?a.position.bottom=parseFloat(r.delete_property(n,"bottom")):a.position.top=0,null!=e.attr("data-ux-parallax-left")?a.position.left=parseFloat(e.attr("data-ux-parallax-left")):n&&null!=n.left?a.position.left=parseFloat(r.delete_property(n,"left")):null!=e.attr("data-ux-parallax-right")?a.position.right=parseFloat(e.attr("data-ux-parallax-right")):n&&null!=n.right?a.position.right=parseFloat(r.delete_property(n,"right")):a.position.left=0),a}),this.set_size=(n=this,function(){var e;n.size.wrapper.width=n.wrapper.width(),n.size.wrapper.height=n.wrapper.height(),n.size.wrapper.half=n.size.wrapper[n.param.size]/2,n.fit.length?(n.fit.removeClass("ux-parallax-content"),n.source.height(n.fit.outerHeight(!0)),n.fit.addClass("ux-parallax-content")):"fullscreen"===n.settings.size?n.source.css({width:n.size.wrapper.width,height:n.size.wrapper.height,"max-width":n.size.wrapper.width,"max-height":n.size.wrapper.height}):"screenHeight"===n.settings.size?n.source.height(n.size.wrapper.height):"screenWidth"===n.settings.size&&n.source.width(n.size.wrapper.width),n.size.parent.width=n.parent.outerWidth(!0),n.size.parent.height=n.parent.outerHeight(!0),n.size.source.width=n.source.outerWidth(!0),n.size.source.height=n.source.outerHeight(!0),0<n.background.length?(n.size.background=F.extend(n.get_image_size(n.background),n.size.background),n.size.element.width=n.size.source.width,n.size.element.height=n.size.source.width/n.size.background.width*n.size.background.height,n.size.source.height>n.size.element.height&&(n.size.element.width=n.size.source.height/n.size.background.height*n.size.background.width,n.size.element.height=n.size.source.height),0<(e=(n.size.wrapper.height+n.size.source.height)/2-n.size.element.height)&&(n.size.element.width+=e,n.size.element.height+=e),n.loaded?n.animate.set(n.background,{height:n.size.element.height,width:n.size.element.width}):n.animate.to(n.background,n.settings.initialAnimationDuration,{height:n.size.element.height,width:n.size.element.width})):(n.size.element.width=n.element.outerWidth(!0),n.size.element.height=n.element.outerHeight(!0)),0<n.layers.length&&n.layers.each(function(e,t){n.size.layer[e]=F.extend(n.get_image_size(F(t)),n.size.layer[e])}),n.size.source.same={width:n.size.source.width===n.size.element.width,height:n.size.source.height===n.size.element.height},n.size.source.ratio=n.size.wrapper[n.param.size]/n.size.source[n.param.size],n.size.source.difference=n.size.wrapper[n.param.size]-n.size.source[n.param.size],n.size.source.spanning=n.size.wrapper[n.param.size]+n.size.source[n.param.size],n.log("Element sizes have been set.")}),this.setSize=this.set_size,this.set_position=(o=this,function(){o.position.source.top=o.source.offset().top-o.document.offset().top,o.position.source.bottom=o.position.source.top+o.size.source.height,o.position.source.vmiddle=(o.position.source.top+o.position.source.bottom)/2,o.position.source.left=o.source.offset().left-o.document.offset().left,o.position.source.right=o.position.source.left+o.size.source.width,o.position.source.hmiddle=(o.position.source.left+o.position.source.right)/2,o.position.element.top=o.element.offset().top-o.document.offset().top,o.position.element.bottom=o.position.element.top+o.size.element.height,o.position.element.left=o.element.offset().left-o.document.offset().left,o.position.element.right=o.position.element.left+o.size.element.width,0<o.background.length&&(o.position.background=o.position.element),o.position.parent.top=o.parent.offset().top-o.document.offset().top,o.position.parent.bottom=o.position.parent.top+o.size.parent.height,o.position.parent.left=o.parent.offset().left-o.document.offset().left,o.position.parent.right=o.position.parent.left+o.size.parent.width,o.settings.normalizeTop&&o.position.source[o.param.start]<o.size.wrapper[o.param.size]/2&&o.size.source[o.param.size]<o.size.wrapper[o.param.size]?o.position.source.beginning=!0:o.position.source.beginning=!1,(0<o.background.length||0<o.layers.length)&&o.set_canvas_position(),o.log("Element positions have been set.")}),this.setPosition=this.set_position,this.set_canvas_position=(l=this,function(){var a,s,n,r;switch(l.settings.anchor){case"center":s=-(l.size.element.width-l.size.source.width)/2,n=-(l.size.element.height-l.size.source.height)/2;break;case"top":s=-(l.size.element.width-l.size.source.width)/2,n=0;break;case"bottom":s=-(l.size.element.width-l.size.source.width)/2,n=-(l.size.element.height-l.size.source.height);break;case"left":s=0,n=-(l.size.element.height-l.size.source.height);break;case"right":s=-(l.size.element.width-l.size.source.width),n=-(l.size.element.height-l.size.source.height)/2;break;case"top-left":n=s=0;break;case"bottom-left":s=0,n=-(l.size.element.height-l.size.source.height);break;case"top-right":s=-(l.size.element.width-l.size.source.width),n=0;break;case"bottom-right":s=-(l.size.element.width-l.size.source.width),n=-(l.size.element.height-l.size.source.height)}0<s&&(s=0),0<n&&(n=0),l.loaded?l.animate.set(l.background,{"margin-top":n,"margin-left":s}):l.animate.to(l.background,l.settings.initialAnimationDuration,{"margin-top":n,"margin-left":s}),r=l.size.element.width/l.size.background.width,a=l.size.element.height/l.size.background.height,l.layers.each(function(e,t){var i;t=F(t),i={},"top"in l.size.layer[e].position?i.top=a*l.size.layer[e].position.top+n:"bottom"in l.size.layer[e].position&&(i.bottom=a*l.size.layer[e].position.bottom+n),"left"in l.size.layer[e].position?i.left=r*l.size.layer[e].position.left+s:"right"in l.size.layer[e].position&&(i.right=r*l.size.layer[e].position.right+s),"width"in l.size.layer[e]&&(i.width=r*l.size.layer[e].width),"height"in l.size.layer[e]&&(i.height=a*l.size.layer[e].height),l.loaded?l.animate.set(t,i):l.animate.to(t,l.settings.initialAnimationDuration,i)})}),this.set_layer_index=(p=this,function(){p.layers.each(function(e,t){F(t).css({"z-index":p.layers.length-e})})}),this.set_orientation=(c=this,function(e){c.param={},"vertical"===e?(c.param.size="height",c.param.middle="vmiddle",c.param.start="top",c.param.end="bottom",c.param.axis="y",c.param.scroll="scrollTop",c.param.half="halfHeight"):(c.param.size="width",c.param.middle="hmiddle",c.param.start="left",c.param.end="right",c.param.axis="x",c.param.scroll="scrollLeft",c.param.half="halfWidth")}),this.set_responsive_context=(d=this,function(){var e=d.current_responsive_size;d.size.wrapper.width>=d.settings.screen.xl?d.current_responsive_size="xl":d.size.wrapper.width>=d.settings.screen.lg?d.current_responsive_size="lg":d.size.wrapper.width>=d.settings.screen.md?d.current_responsive_size="md":d.size.wrapper.width>=d.settings.screen.sm?d.current_responsive_size="sm":d.current_responsive_size="xs",e&&e!==d.current_responsive_size?d.log("Responsive context is reset to "+d.current_responsive_size+"."):d.log("Responsive context is "+d.current_responsive_size+".")}),this.set_classes=(g=this,function(){var e,t;0===F("#ux_parallax-style").length&&(e=".ux-parallax-parent { perspective: "+g.settings.perspective+"px; -moz-perspective: "+g.settings.perspective+"px; -webkit-perspective: "+g.settings.perspective+"px; perspective-origin: "+g.settings.perspectiveOrigin+"; -moz-perspective-origin: "+g.settings.perspectiveOrigin+"; -webkit-perspective-origin: "+g.settings.perspectiveOrigin+"; backface-visibility: hidden; -moz-backface-visibility: hidden; -webkit-backface-visibility: hidden; }",(t=E.createElement("style")).id="ux-parallax-style",t.type="text/css",t.innerHTML=e,F("head")[0].appendChild(t)),(g.settings.animateElement?g.parent:g.element).addClass("ux-parallax-parent"),0<g.background.length&&g.element.addClass("ux-parallax-canvas"),g.element.addClass("ux-parallax-animated"),g.background.addClass("ux-parallax-animated"),g.layers.addClass("ux-parallax-animated")}),this.bind_resize=(m=this,function(){m.window.resize(function(){m.set_size(),m.set_position(),m.set_responsive_context(),m.parallax()})}),this.ticking=!1,this.stop_ticking=(x=this,function(){x.ticking=!1}),this.settings.optimize?this.start_ticking=(_=this,function(){_.ticking=!0}):this.start_ticking=(f=this,function(){f.ticking=!1}),this.in_view_eariler=!1,this.scroll=(w=this,function(){var e=w.element[0]._gsTransform&&w.element[0]._gsTransform[w.param.axis]?w.element[0]._gsTransform[w.param.axis]:0,e=F.ux_parallax.wrapper[w.param.half]-e;if(w.in_view=!(F.ux_parallax.wrapper[w.param.end]-w.position.source[w.param.start]+e<0||0<F.ux_parallax.wrapper[w.param.start]-w.position.source[w.param.end]-e),w.in_view)w.in_view_eariler||(w.in_view_eariler=!0,w.element.addClass("ux-parallax-visible"),w.element.removeClass("ux-parallax-hidden"),w.element.triggerHandler("ux_parallax.visible",[w.in_view]));else if(w.in_view_eariler&&(w.in_view_eariler=!1,w.element.removeClass("ux-parallax-visible"),w.element.addClass("ux-parallax-hidden"),w.element.triggerHandler("ux_parallax.visible",[w.in_view])),w.loaded)return;w.ticking||(w.start_ticking(),w.parallax())}),this.bind_scroll=(b=this,function(){b.wrapper.on("ux_parallax.scroll",b.scroll)}),this.set_element_id=(v=this,function(){null!=v.element.attr("id")?v.id=v.element.attr("id"):(v.id=v.get_random_id("ux-parallax"),v.element.attr("id",v.id)),v.log("Element id has been set to "+v.id+".")}),this.set_animator=(y=this,function(){y.animate=T[y.settings.animate],y.log("Animating using the "+y.settings.animate+" platform.")}),this.get_random_id=function(e){return e+"-"+Math.floor(1e5*Math.random()+1)},this.get_image_size=function(e){var t={};return t.width=null!=e[0].naturalWidth?e[0].naturalWidth:null!=e[0].width?e[0].width:null!=e.width?e.width():"auto",t.height=null!=e[0].naturalHeight?e[0].naturalHeight:null!=e[0].height?e[0].height:null!=e.height?e.height():"auto",t},this.debounce=function(s,n,r){var o=void 0;return function(){var e=this,t=arguments,i=function(){o=null,r||s.apply(e,t)},a=r&&!o;clearTimeout(o),o=setTimeout(i,n),a&&s.apply(e,t)}},this.delete_property=function(e,t){var i=e[t];return delete e[t],i},this.extend_settings=(k=this,function(e,t){return null!=k.settings[e]?k.settings[e]=F.extend({},t,k.settings[e]):k.settings[e]=t}),this.log=(H=this,function(e){H.debug&&("object"===_typeof(e)?console.log("[UX Parallax "+H.id+"]",e):console.log("[UX Parallax "+H.id+"] "+e))}),this.error=(C=this,function(e){"object"===_typeof(e)?console.error("[UX Parallax "+C.id+"]",e):console.error("[UX Parallax "+C.id+"] "+e)}),this.initialize()},F.ux_parallax.wrapper={},F.ux_parallax.resize=function(){var e=F("#ux-push");F.ux_parallax.wrapper.height=e.height(),F.ux_parallax.wrapper.width=e.width(),F.ux_parallax.wrapper.halfHeight=F.ux_parallax.wrapper.height/2,F.ux_parallax.wrapper.halfWidth=F.ux_parallax.wrapper.width/2},F(T).on("resize",function(){F.ux_parallax.resize()}),F.ux_parallax.resize(),F.ux_parallax.scroll=function(){var e=F("#ux-push");F.ux_parallax.wrapper.top=e.scrollTop(),F.ux_parallax.wrapper.left=e.scrollLeft(),F.ux_parallax.wrapper.bottom=F.ux_parallax.wrapper.top+F.ux_parallax.wrapper.height,F.ux_parallax.wrapper.right=F.ux_parallax.wrapper.left+F.ux_parallax.wrapper.width,F.ux_parallax.wrapper.vmiddle=F.ux_parallax.wrapper.top+F.ux_parallax.wrapper.halfHeight,F.ux_parallax.wrapper.hmiddle=F.ux_parallax.wrapper.left+F.ux_parallax.wrapper.halfWidth},F("#ux-push").on("scroll",function(){F.ux_parallax.scroll(),F("#ux-push").triggerHandler("ux_parallax.scroll")}),F.ux_parallax.scroll(),F.fn.ux_parallax=function(i){return this.each(function(e,t){if(!F.data(t,"ux_parallax"))return F.data(t,"ux_parallax",new F.ux_parallax(t,i))})}}(window.jQuery,window,document);