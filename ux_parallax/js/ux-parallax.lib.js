!function(e,t,i){"use strict";var a;a={animation:"y",animate:"TweenLite",optimize:!0,initialAnimationDuration:1,orientation:"vertical",factor:.5,screen:{sm:0,md:640,lg:1024},perspective:800,perspectiveOrigin:"50% 50%",preload:!0,preloader:'<div class="ux-parallax-loader"><div class="ux-parallax-loader-inner"></div></div>',normalizeTop:!0,overflow:!1,anchor:"center",size:"auto",selector:{layer:".ux-parallax-layer",background:".ux-parallax-background",background_inside:".ux-parallax-background-inside",fit:".ux-parallax-fit"}},e.ux_parallax=function(s,n){this._defaults=a,this.settings=e.extend(!0,{},this._defaults,n),this.element=e(s),this.layers=e(this.settings.selector.layer,this.element),this.fit=e(this.settings.selector.fit,this.element),this.background=e(this.settings.selector.background,this.element),this.background.length||(this.background=e(this.settings.selector.background_inside,this.element).find("img:first").addClass("ux-parallax-background")),this.source=this.settings.source?this.settings.source:this.element,this.parent=this.settings.parent?this.settings.parent:this.element.parent(),this.window=e(t),this.wrapper=e("#ux-push"),this.document=e("#ux-document"),this.wrapper_width=this.wrapper.width(),this.background.length>0&&!this.settings.animateElement?this.settings.animateElement=!1:this.settings.animateElement=!0,this.debug=!1,this.size={wrapper:{},source:{},parent:{},element:{},background:{},layer:[]},this.position={wrapper:{},source:{},element:{},parent:{}},this.loaded=!1,this.initialize=function(e){return function(){e.set_element_id(),e.set_animator(),e.set_orientation(e.settings.orientation),e.set_layer_index(),e.init_animus(),e.set_data(),e.set_classes(),e.load(function(){e.set_size(),e.set_position(),e.set_responsive_context(),e.bind_resize(),e.bind_scroll(),e.scroll(),e.loaded=!0,e.element.triggerHandler("ux_parallax.load",[e.element]),e.source.addClass("ux-parallax-built"),e.log("UX Parallax has been initialized.")})}}(this),this.parallax=function(t){return function(){var i,a,s,n,r,o,l;i=e.ux_parallax.wrapper[t.param.middle]-t.position.source[t.param.middle],r=(e.ux_parallax.wrapper[t.param.end]-t.position.source[t.param.start])/t.size.source.spanning,s=i/t.size.source.spanning,t.position.source.beginning&&(a=t.size.wrapper.half-t.position.source[t.param.middle],o=a/t.size.source.spanning,r-=o,s-=o),l=i<=0,n=i>=0,t.loaded||(l=!1,n=!1,t.in_view||(i=0,r=0,s=0)),e.each(t.animation,function(a,o){var p,u,h;p={},h=o[0],u=o[1][t.current_responsive_size],e.each(u.state,function(a,o){var h,c,d,g,m,f,x,z,_,w,b,v;if("*"===u.state[a][0]){if(x=u.state[a][3],f="to-middle"===x||"from-middle"===x?2:1,v=Math.abs(o[1])+Math.abs(o[2]),"to-middle"===x&&n)return;return void("from-middle"===x?p[a]=l?o[1]:o[1]-v*(r-.5)*f:(b=v*r*f,o[1]>o[2]?p[a]=o[1]-b:p[a]=o[1]+b))}if(z=u.state[a][0],x=u.state[a][1],d=i*z,w=r*z,g=s*z,!("to-middle"===x&&n||"from-middle"===x&&l)||"opacity"===a)switch(a){case"opacity":"from-middle"===x?(p[a]=1-2*g,p[a]>1&&(p[a]=1)):"to-middle"===x?(p[a]=1+2*g,p[a]>1&&(p[a]=1)):p[a]=1-Math.abs(2*g);break;case"scale":case"scaleX":case"scaleY":case"scaleZ":u.state[a][2]&&(x=u.state[a][2]),p[a]="up"===x?1+w:"down"===x?1+.5*z-w:1+g;break;case"rotation":case"rotationX":case"rotationY":case"rotationZ":p[a]=180*(r-.5)*z;break;case"skewX":case"skewY":case"skewZ":p[a]=180*(r-.5)*z;break;case"x":case"y":t.background.length>0?t.size.source.same[t.param.size]&&a===t.param.axis?(_={},_[t.param.start]=(e.ux_parallax.wrapper[t.param.start]-t.position.source[t.param.start])/t.size.source[t.param.size],_[t.param.end]=(e.ux_parallax.wrapper[t.param.end]-t.position.source[t.param.end])/t.size.source[t.param.size],_.value=0,_[t.param.start]<0?_[t.param.start]=0:_.value=_[t.param.start],_[t.param.end]>0?_[t.param.end]=0:_.value=_[t.param.end],p[a]=_.value*t.size.source[t.param.size]*z):(m=t.size.source.difference*(1+z),m=t.size.source.difference/2,h=t.position.element[t.param.start]-d-m,c=h+t.size.element[t.param.size],h>t.position.source[t.param.start]&&c<t.position.source[t.param.end]||(p[a]=d)):p[a]=d;break;default:p[a]=d}}),p.onComplete=t.stop_ticking,t.loaded?t.animate.set(h,p):t.animate.to(h,t.settings.initialAnimationDuration,p)}),t.element.triggerHandler("ux_parallax.parallax",[r,i,s])}}(this),this.load=function(i){return function(a){var s,n,r;s=i.background.add(i.layers.filter("img")),s.length>0?(n=0,i.settings.preloader&&(r=e(i.settings.preloader),i.background.before(r)),s.each(function(o,l){var p,u,h,c,d;p=e(l),u=p.parent(),h=!1,d=null!=p.attr("data-ux-parallax-src")?p.attr("data-ux-parallax-src"):p.attr("src"),c=e("<img>"),u.is("picture")&&(u=u.clone(),u.find("img").remove().end(),u.append(c),h=!0),c.attr("src",d),h&&!t.HTMLPictureElement&&(t.respimage?t.respimage({elements:[$img[0]]}):t.picturefill?t.picturefill({elements:[$img[0]]}):d&&$img.attr("src",d)),c.on("load",function(){p.attr("src",d),(n+=1)===s.length&&(i.settings.preloader&&i.animate.to(r,1,{scale:2,opacity:0,onComplete:function(){r.remove()}}),a.call())}).on("error",function(){i.error('Image with src="'+d+'" failed to load.')})})):a.call()}}(this),this.init_animus=function(t){return function(){var i;i={duration:t.settings.animation.duration,easing:t.settings.animation.easing},t.animus=new e.animus(i),t.log("Initialized animus parser.")}}(this),this.set_data=function(t){return function(){t.animation=[],t.settings.animateElement&&t.animation.push([t.element,t.get_animation_data("element",t.element)]),t.background.length>0&&(t.animation.push([t.background,t.get_animation_data("background",t.background)]),t.size.background=t.get_size_data("background",t.background)),t.layers.length>0&&(t.animation.layer=[],t.layers.each(function(i,a){a=e(a),t.animation.push([a,t.get_animation_data("layer",a,i)]),t.size.layer.push(t.get_size_data("layer",a,i))})),t.log("UX Parallax data has been processed."),t.log(t.animation)}}(this),this.get_animation_data=function(t){return function(i,a,s){var n,r,o,l,p;return n={},r="",o=null,p=null!=a.attr("id")?"#"+a.attr("id"):"",l=null!=a.attr("class")?a.attr("class").split(" ").map(function(e){return"."+e}):[],null!=a.attr("data-ux-parallax")?r=a.attr("data-ux-parallax"):"string"==typeof t.settings.animation?r=t.settings.animation:"object"==typeof t.settings.animation&&("string"==typeof t.settings.animation[i]?r=t.settings.animation[i]:e.isArray(t.settings.animation[i])?"string"==typeof t.settings.animation[i][s]?r=t.settings.animation[i][s]:"object"==typeof t.settings.animation[i][s]&&(o=t.settings.animation[i][s],"string"==typeof t.settings.animation[i][s]["*"]&&(r=t.settings.animation[i]["*"])):"object"==typeof t.settings.animation[i]?(o=t.settings.animation[i],"string"==typeof t.settings.animation[i]["*"]?r=t.settings.animation[i]["*"]:"string"==typeof t.settings.animation[i][p]?r=t.settings.animation[i][p]:"object"==typeof t.settings.animation[i][p]?o=t.settings.animation[i][p]:e.each(l,function(e,a){"string"==typeof t.settings.animation[i][a]&&(r=t.settings.animation[i][a]),"object"==typeof t.settings.animation[i][a]&&(o=t.settings.animation[i][a])})):r="string"==typeof t.settings.animation["*"]?t.settings.animation["*"]:""),e.each(Object.keys(t.settings.screen),function(e,i){var a,s,l,p,u;n[i]={},s={},s=o&&"string"==typeof o[i]?o[i]:r,n[i]=t.animus.get(s),a=n[i].state;for(p in a)u=a[p],u=""+u,-1===u.indexOf("..")?(l=u.split(/\s+/),0===l.length?l.push(t.settings.factor):1===l.length&&(""===l[0]&&(l[1]="default",l[0]=t.settings.factor),isNaN(l[0])?(l[1]=l[0],l[0]=t.settings.factor):(l[1]="default",l[0]=parseFloat(l[0]))),n[i].state[p]=l):(l=["*"],u=u.split(/[\. ]+/),l[1]=parseFloat(u[0]),l[2]=parseFloat(u[1]),2===u.length?l[3]="default":l[3]=u[2],n[i].state[p]=l)}),n}}(this),this.get_size_data=function(t){return function(i,a,s){var n,r,o;return n={},null!=a.attr("id")?"#"+a.attr("id"):"",r=null!=a.attr("class")?a.attr("class").split(" ").map(function(e){return"."+e}):[],o=!1,null!=t.settings.canvas&&null!=t.settings.canvas[i]&&(null!=s?null!=t.settings.canvas[i][s]?o=t.settings.canvas[i][s]:null!=t.settings.canvas[i][id]?o=t.settings.canvas[i][id]:e.each(r,function(e,a){null!=t.settings.canvas[i][a]&&(o=t.settings.canvas[i][a])}):o=t.settings.canvas[i]),null!=a.attr("data-ux-parallax-width")?n.width=parseFloat(a.attr("data-ux-parallax-width")):o&&null!=o.width&&(n.width=parseFloat(t.delete_property(o,"width"))),null!=a.attr("data-ux-parallax-height")?n.height=parseFloat(a.attr("data-ux-parallax-height")):o&&null!=o.height&&(n.height=parseFloat(t.delete_property(o,"height"))),"layer"===i&&(n.position={},null!=a.attr("data-ux-parallax-top")?n.position.top=parseFloat(a.attr("data-ux-parallax-top")):o&&null!=o.top?n.position.top=parseFloat(t.delete_property(o,"top")):null!=a.attr("data-ux-parallax-bottom")?n.position.bottom=parseFloat(a.attr("data-ux-parallax-bottom")):o&&null!=o.bottom?n.position.bottom=parseFloat(t.delete_property(o,"bottom")):n.position.top=0,null!=a.attr("data-ux-parallax-left")?n.position.left=parseFloat(a.attr("data-ux-parallax-left")):o&&null!=o.left?n.position.left=parseFloat(t.delete_property(o,"left")):null!=a.attr("data-ux-parallax-right")?n.position.right=parseFloat(a.attr("data-ux-parallax-right")):o&&null!=o.right?n.position.right=parseFloat(t.delete_property(o,"right")):n.position.left=0),n}}(this),this.set_size=function(t){return function(){if(t.size.wrapper.width=t.wrapper.width(),t.size.wrapper.height=t.wrapper.height(),t.size.wrapper.half=t.size.wrapper[t.param.size]/2,t.fit.length?(t.fit.removeClass("ux-parallax-content"),t.source.height(t.fit.outerHeight(!0)),t.fit.addClass("ux-parallax-content")):"fullscreen"===t.settings.size?t.source.css({width:t.size.wrapper.width,height:t.size.wrapper.height,"max-width":t.size.wrapper.width,"max-height":t.size.wrapper.height}):"screenHeight"===t.settings.size?t.source.height(t.size.wrapper.height):"screenWidth"===t.settings.size&&t.source.width(t.size.wrapper.width),t.size.parent.width=t.parent.outerWidth(!0),t.size.parent.height=t.parent.outerHeight(!0),t.size.source.width=t.source.outerWidth(!0),t.size.source.height=t.source.outerHeight(!0),t.background.length>0){t.size.background=e.extend(t.get_image_size(t.background),t.size.background),t.size.element.width=t.size.source.width,t.size.element.height=t.size.source.width/t.size.background.width*t.size.background.height,t.size.source.height>t.size.element.height&&(t.size.element.width=t.size.source.height/t.size.background.height*t.size.background.width,t.size.element.height=t.size.source.height);var i=(t.size.wrapper.height+t.size.source.height)/2-t.size.element.height;i>0&&(t.size.element.width+=i,t.size.element.height+=i),t.loaded?t.animate.set(t.background,{height:t.size.element.height,width:t.size.element.width}):t.animate.to(t.background,t.settings.initialAnimationDuration,{height:t.size.element.height,width:t.size.element.width})}else t.size.element.width=t.element.outerWidth(!0),t.size.element.height=t.element.outerHeight(!0);t.layers.length>0&&t.layers.each(function(i,a){t.size.layer[i]=e.extend(t.get_image_size(e(a)),t.size.layer[i])}),t.size.source.same={width:t.size.source.width===t.size.element.width,height:t.size.source.height===t.size.element.height},t.size.source.ratio=t.size.wrapper[t.param.size]/t.size.source[t.param.size],t.size.source.difference=t.size.wrapper[t.param.size]-t.size.source[t.param.size],t.size.source.spanning=t.size.wrapper[t.param.size]+t.size.source[t.param.size],t.log("Element sizes have been set.")}}(this),this.setSize=this.set_size,this.set_position=function(e){return function(){e.position.source.top=e.source.offset().top-e.document.offset().top,e.position.source.bottom=e.position.source.top+e.size.source.height,e.position.source.vmiddle=(e.position.source.top+e.position.source.bottom)/2,e.position.source.left=e.source.offset().left-e.document.offset().left,e.position.source.right=e.position.source.left+e.size.source.width,e.position.source.hmiddle=(e.position.source.left+e.position.source.right)/2,e.position.element.top=e.element.offset().top-e.document.offset().top,e.position.element.bottom=e.position.element.top+e.size.element.height,e.position.element.left=e.element.offset().left-e.document.offset().left,e.position.element.right=e.position.element.left+e.size.element.width,e.background.length>0&&(e.position.background=e.position.element),e.position.parent.top=e.parent.offset().top-e.document.offset().top,e.position.parent.bottom=e.position.parent.top+e.size.parent.height,e.position.parent.left=e.parent.offset().left-e.document.offset().left,e.position.parent.right=e.position.parent.left+e.size.parent.width,e.settings.normalizeTop&&e.position.source[e.param.start]<e.size.wrapper[e.param.size]/2&&e.size.source[e.param.size]<e.size.wrapper[e.param.size]?e.position.source.beginning=!0:e.position.source.beginning=!1,(e.background.length>0||e.layers.length>0)&&e.set_canvas_position(),e.log("Element positions have been set.")}}(this),this.setPosition=this.set_position,this.set_canvas_position=function(t){return function(){var i,a,s,n;switch(t.settings.anchor){case"center":a=-(t.size.element.width-t.size.source.width)/2,s=-(t.size.element.height-t.size.source.height)/2;break;case"top":a=-(t.size.element.width-t.size.source.width)/2,s=0;break;case"bottom":a=-(t.size.element.width-t.size.source.width)/2,s=-(t.size.element.height-t.size.source.height);break;case"left":a=0,s=-(t.size.element.height-t.size.source.height);break;case"right":a=-(t.size.element.width-t.size.source.width),s=-(t.size.element.height-t.size.source.height)/2;break;case"top-left":a=0,s=0;break;case"bottom-left":a=0,s=-(t.size.element.height-t.size.source.height);break;case"top-right":a=-(t.size.element.width-t.size.source.width),s=0;break;case"bottom-right":a=-(t.size.element.width-t.size.source.width),s=-(t.size.element.height-t.size.source.height)}a>0&&(a=0),s>0&&(s=0),t.loaded?t.animate.set(t.background,{"margin-top":s,"margin-left":a}):t.animate.to(t.background,t.settings.initialAnimationDuration,{"margin-top":s,"margin-left":a}),n=t.size.element.width/t.size.background.width,i=t.size.element.height/t.size.background.height,t.layers.each(function(r,o){var l;o=e(o),l={},"top"in t.size.layer[r].position?l.top=i*t.size.layer[r].position.top+s:"bottom"in t.size.layer[r].position&&(l.bottom=i*t.size.layer[r].position.bottom+s),"left"in t.size.layer[r].position?l.left=n*t.size.layer[r].position.left+a:"right"in t.size.layer[r].position&&(l.right=n*t.size.layer[r].position.right+a),"width"in t.size.layer[r]&&(l.width=n*t.size.layer[r].width),"height"in t.size.layer[r]&&(l.height=i*t.size.layer[r].height),t.loaded?t.animate.set(o,l):t.animate.to(o,t.settings.initialAnimationDuration,l)})}}(this),this.set_layer_index=function(t){return function(){t.layers.each(function(i,a){e(a).css({"z-index":t.layers.length-i})})}}(this),this.set_orientation=function(e){return function(t){e.param={},"vertical"===t?(e.param.size="height",e.param.middle="vmiddle",e.param.start="top",e.param.end="bottom",e.param.axis="y",e.param.scroll="scrollTop",e.param.half="halfHeight"):(e.param.size="width",e.param.middle="hmiddle",e.param.start="left",e.param.end="right",e.param.axis="x",e.param.scroll="scrollLeft",e.param.half="halfWidth")}}(this),this.set_responsive_context=function(e){return function(){var t=e.current_responsive_size;e.size.wrapper.width>=e.settings.screen.xl?e.current_responsive_size="xl":e.size.wrapper.width>=e.settings.screen.lg?e.current_responsive_size="lg":e.size.wrapper.width>=e.settings.screen.md?e.current_responsive_size="md":e.size.wrapper.width>=e.settings.screen.sm?e.current_responsive_size="sm":e.current_responsive_size="xs",t&&t!==e.current_responsive_size?e.log("Responsive context is reset to "+e.current_responsive_size+"."):e.log("Responsive context is "+e.current_responsive_size+".")}}(this),this.set_classes=function(t){return function(){var a,s;0===e("#ux_parallax-style").length&&(a=".ux-parallax-parent { perspective: "+t.settings.perspective+"px; -moz-perspective: "+t.settings.perspective+"px; -webkit-perspective: "+t.settings.perspective+"px; perspective-origin: "+t.settings.perspectiveOrigin+"; -moz-perspective-origin: "+t.settings.perspectiveOrigin+"; -webkit-perspective-origin: "+t.settings.perspectiveOrigin+"; backface-visibility: hidden; -moz-backface-visibility: hidden; -webkit-backface-visibility: hidden; }",s=i.createElement("style"),s.id="ux-parallax-style",s.type="text/css",s.innerHTML=a,e("head")[0].appendChild(s)),t.settings.animateElement?t.parent.addClass("ux-parallax-parent"):t.element.addClass("ux-parallax-parent"),t.background.length>0&&t.element.addClass("ux-parallax-canvas"),t.element.addClass("ux-parallax-animated"),t.background.addClass("ux-parallax-animated"),t.layers.addClass("ux-parallax-animated")}}(this),this.bind_resize=function(e){return function(){e.window.resize(function(){e.set_size(),e.set_position(),e.set_responsive_context(),e.parallax()})}}(this),this.ticking=!1,this.stop_ticking=function(e){return function(){e.ticking=!1}}(this),this.settings.optimize?this.start_ticking=function(e){return function(){e.ticking=!0}}(this):this.start_ticking=function(e){return function(){e.ticking=!1}}(this),this.in_view_eariler=!1,this.scroll=function(t){return function(){var i,a;if(a=t.element[0]._gsTransform&&t.element[0]._gsTransform[t.param.axis]?t.element[0]._gsTransform[t.param.axis]:0,i=e.ux_parallax.wrapper[t.param.half]-a,t.in_view=!(e.ux_parallax.wrapper[t.param.end]-t.position.source[t.param.start]+i<0||e.ux_parallax.wrapper[t.param.start]-t.position.source[t.param.end]-i>0),t.in_view)t.in_view_eariler||(t.in_view_eariler=!0,t.element.addClass("ux-parallax-visible"),t.element.removeClass("ux-parallax-hidden"),t.element.triggerHandler("ux_parallax.visible",[t.in_view]));else if(t.in_view_eariler&&(t.in_view_eariler=!1,t.element.removeClass("ux-parallax-visible"),t.element.addClass("ux-parallax-hidden"),t.element.triggerHandler("ux_parallax.visible",[t.in_view])),t.loaded)return;t.ticking||(t.start_ticking(),t.parallax())}}(this),this.bind_scroll=function(e){return function(){e.wrapper.on("ux_parallax.scroll",e.scroll)}}(this),this.set_element_id=function(e){return function(){null!=e.element.attr("id")?e.id=e.element.attr("id"):(e.id=e.get_random_id("ux-parallax"),e.element.attr("id",e.id)),e.log("Element id has been set to "+e.id+".")}}(this),this.set_animator=function(e){return function(){e.animate=t[e.settings.animate],e.log("Animating using the "+e.settings.animate+" platform.")}}(this),this.get_random_id=function(e){return e+"-"+Math.floor(1e5*Math.random()+1)},this.get_image_size=function(e){return function(e){var t;return t={},t.width=null!=e[0].naturalWidth?e[0].naturalWidth:null!=e[0].width?e[0].width:null!=e.width?e.width():"auto",t.height=null!=e[0].naturalHeight?e[0].naturalHeight:null!=e[0].height?e[0].height:null!=e.height?e.height():"auto",t}}(),this.debounce=function(e,t,i){var a;return a=void 0,function(){var s,n,r,o;r=this,s=arguments,o=function(){a=null,i||e.apply(r,s)},n=i&&!a,clearTimeout(a),a=setTimeout(o,t),n&&e.apply(r,s)}},this.delete_property=function(e,t){var i;return i=e[t],delete e[t],i},this.extend_settings=function(t){return function(i,a){return null!=t.settings[i]?t.settings[i]=e.extend({},a,t.settings[i]):t.settings[i]=a}}(this),this.log=function(e){return function(t){e.debug&&("object"==typeof t?console.log("[UX Parallax "+e.id+"]",t):console.log("[UX Parallax "+e.id+"] "+t))}}(this),this.error=function(e){return function(t){"object"==typeof t?console.error("[UX Parallax "+e.id+"]",t):console.error("[UX Parallax "+e.id+"] "+t)}}(this),this.initialize()},e.ux_parallax.wrapper={},e.ux_parallax.resize=function(){var t;t=e("#ux-push"),e.ux_parallax.wrapper.height=t.height(),e.ux_parallax.wrapper.width=t.width(),e.ux_parallax.wrapper.halfHeight=e.ux_parallax.wrapper.height/2,e.ux_parallax.wrapper.halfWidth=e.ux_parallax.wrapper.width/2},e(t).on("resize",function(t){return function(){e.ux_parallax.resize()}}()),e.ux_parallax.resize(),e.ux_parallax.scroll=function(){var t;t=e("#ux-push"),e.ux_parallax.wrapper.top=t.scrollTop(),e.ux_parallax.wrapper.left=t.scrollLeft(),e.ux_parallax.wrapper.bottom=e.ux_parallax.wrapper.top+e.ux_parallax.wrapper.height,e.ux_parallax.wrapper.right=e.ux_parallax.wrapper.left+e.ux_parallax.wrapper.width,e.ux_parallax.wrapper.vmiddle=e.ux_parallax.wrapper.top+e.ux_parallax.wrapper.halfHeight,e.ux_parallax.wrapper.hmiddle=e.ux_parallax.wrapper.left+e.ux_parallax.wrapper.halfWidth},e("#ux-push").on("scroll",function(t){return function(){e.ux_parallax.scroll(),e("#ux-push").triggerHandler("ux_parallax.scroll")}}()),e.ux_parallax.scroll(),e.fn.ux_parallax=function(t){return this.each(function(i,a){if(!e.data(a,"ux_parallax"))return e.data(a,"ux_parallax",new e.ux_parallax(a,t))})}}(window.jQuery,window,document);